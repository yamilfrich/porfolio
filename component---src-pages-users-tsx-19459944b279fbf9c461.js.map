{"version":3,"sources":["webpack:///./src/pages/users.tsx"],"names":["Users","props","getUsers","a","fetch","process","headers","credentials","method","res","json","users","ok","setState","state","componentDidMount","this","render","className","css","usersStyles","JSON","stringify","React","Component"],"mappings":"4eAcMA,E,oBACJ,WAAYC,GAAW,aACrB,cAAMA,IAAN,MAUFC,SAXuB,YAWZ,8BAAAC,EAAA,sEACSC,MAASC,kDAA6C,CACtEC,QAAS,CACP,eAAgB,oBAElBC,YAAa,UACbC,OAAQ,QAND,cACHC,EADG,gBASWA,EAAIC,OATf,OASHC,EATG,OAULF,EAAIG,IACN,EAAKC,SAAS,CAAEF,UAXT,2CATT,EAAKG,MAAQ,CACXH,MAAO,IAHY,E,kHAOvBI,kBAAA,WACEC,KAAKd,Y,EAoBPe,OAAA,WACE,OACE,YAAC,IAAD,KACE,mBAAKC,UAAU,uBACb,mBAAKC,IAAKC,GACR,+BACA,uBAAMC,KAAKC,UAAUN,KAAKF,MAAMH,Y,GAnCxBY,IAAMC,WA2CpBJ,EAAc,CAAH,yCAIFpB","file":"component---src-pages-users-tsx-19459944b279fbf9c461.js","sourcesContent":["/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport Layout from \"../components/layout/layout\";\n\ninterface IUser {\n  name: string;\n  email: string;\n}\n\ninterface IState {\n  users: IUser[];\n}\n\nclass Users extends React.Component<{}, IState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  getUsers = async () => {\n    const res = await fetch(`${process.env.GATSBY_PORTFOLIO_API_URL}users`, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\", // \"same-origin\" ?\n      method: \"get\"\n    });\n\n    const users = await res.json();\n    if (res.ok) {\n      this.setState({ users });\n    } else {\n      // Do something when we get an error\n    }\n  };\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"section text-center\">\n          <div css={usersStyles}>\n            <h2>Users</h2>\n            <pre>{JSON.stringify(this.state.users)}</pre>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst usersStyles = css`\n  background: #fff;\n`;\n\nexport default Users;\n"],"sourceRoot":""}